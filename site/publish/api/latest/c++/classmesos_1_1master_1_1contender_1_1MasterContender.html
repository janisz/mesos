<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Apache Mesos: mesos::master::contender::MasterContender Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apache Mesos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemesos.html">mesos</a></li><li class="navelem"><a class="el" href="namespacemesos_1_1master.html">master</a></li><li class="navelem"><a class="el" href="namespacemesos_1_1master_1_1contender.html">contender</a></li><li class="navelem"><a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html">MasterContender</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmesos_1_1master_1_1contender_1_1MasterContender-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mesos::master::contender::MasterContender Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>An abstraction for contending to be a leading master.  
 <a href="classmesos_1_1master_1_1contender_1_1MasterContender.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="master_2contender_8hpp_source.html">contender.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mesos::master::contender::MasterContender:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmesos_1_1master_1_1contender_1_1MasterContender.png" usemap="#mesos::master::contender::MasterContender_map" alt=""/>
  <map id="mesos::master::contender::MasterContender_map" name="mesos::master::contender::MasterContender_map">
<area href="classmesos_1_1master_1_1contender_1_1StandaloneMasterContender.html" alt="mesos::master::contender::StandaloneMasterContender" shape="rect" coords="0,56,321,80"/>
<area href="classmesos_1_1master_1_1contender_1_1ZooKeeperMasterContender.html" alt="mesos::master::contender::ZooKeeperMasterContender" shape="rect" coords="331,56,652,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a613b55bb2c44855b2319806ee742e2de"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html#a613b55bb2c44855b2319806ee742e2de">~MasterContender</a> ()=0</td></tr>
<tr class="memdesc:a613b55bb2c44855b2319806ee742e2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note that the contender's membership, if obtained, is scheduled to be cancelled during destruction.  <a href="#a613b55bb2c44855b2319806ee742e2de">More...</a><br/></td></tr>
<tr class="separator:a613b55bb2c44855b2319806ee742e2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df3292cd7a6f9e556a7f14df80948b9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html#a6df3292cd7a6f9e556a7f14df80948b9">initialize</a> (const MasterInfo &amp;masterInfo)=0</td></tr>
<tr class="memdesc:a6df3292cd7a6f9e556a7f14df80948b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the contender with the MasterInfo of the master it contends on behalf of.  <a href="#a6df3292cd7a6f9e556a7f14df80948b9">More...</a><br/></td></tr>
<tr class="separator:a6df3292cd7a6f9e556a7f14df80948b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679ae0f4923385559d6455a332320864"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classprocess_1_1Future.html">process::Future</a><br class="typebreak"/>
&lt; <a class="el" href="classprocess_1_1Future.html">process::Future</a>&lt; <a class="el" href="structNothing.html">Nothing</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html#a679ae0f4923385559d6455a332320864">contend</a> ()=0</td></tr>
<tr class="memdesc:a679ae0f4923385559d6455a332320864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="classprocess_1_1Future.html">Future&lt;Nothing&gt;</a> once the contender has entered the contest (by obtaining a membership) and an error otherwise.  <a href="#a679ae0f4923385559d6455a332320864">More...</a><br/></td></tr>
<tr class="separator:a679ae0f4923385559d6455a332320864"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae150907268e25e4c17781c4874619ac4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classTry.html">Try</a>&lt; <a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html">MasterContender</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html#ae150907268e25e4c17781c4874619ac4">create</a> (const <a class="el" href="classOption.html">Option</a>&lt; std::string &gt; &amp;zk, const <a class="el" href="classOption.html">Option</a>&lt; std::string &gt; &amp;masterContenderModule=<a class="el" href="structNone.html">None</a>())</td></tr>
<tr class="memdesc:ae150907268e25e4c17781c4874619ac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a master contender.  <a href="#ae150907268e25e4c17781c4874619ac4">More...</a><br/></td></tr>
<tr class="separator:ae150907268e25e4c17781c4874619ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An abstraction for contending to be a leading master. </p>
<p>TODO(benh): Support contending with a v1::MasterInfo. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a613b55bb2c44855b2319806ee742e2de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual mesos::master::contender::MasterContender::~MasterContender </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Note that the contender's membership, if obtained, is scheduled to be cancelled during destruction. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a679ae0f4923385559d6455a332320864"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classprocess_1_1Future.html">process::Future</a>&lt;<a class="el" href="classprocess_1_1Future.html">process::Future</a>&lt;<a class="el" href="structNothing.html">Nothing</a>&gt; &gt; mesos::master::contender::MasterContender::contend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a <a class="el" href="classprocess_1_1Future.html">Future&lt;Nothing&gt;</a> once the contender has entered the contest (by obtaining a membership) and an error otherwise. </p>
<p>A failed future is returned if this method is called before <a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html#a6df3292cd7a6f9e556a7f14df80948b9" title="Initializes the contender with the MasterInfo of the master it contends on behalf of...">initialize()</a>. The inner Future returns <a class="el" href="structNothing.html">Nothing</a> when the contender is out of the contest (i.e. its membership is lost).</p>
<p>This method can be used to contend again after candidacy is obtained (the outer future satisfied), otherwise the future for the pending election is returned. Recontending after candidacy is obtained causes the previous candidacy to be withdrawn. </p>

<p>Implemented in <a class="el" href="classmesos_1_1master_1_1contender_1_1ZooKeeperMasterContender.html#aef51fb28c5ecd2f2a1ff9a50504736bf">mesos::master::contender::ZooKeeperMasterContender</a>, and <a class="el" href="classmesos_1_1master_1_1contender_1_1StandaloneMasterContender.html#a3d2381b8326cc89afd3eb7c6cdf4560b">mesos::master::contender::StandaloneMasterContender</a>.</p>

</div>
</div>
<a class="anchor" id="ae150907268e25e4c17781c4874619ac4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classTry.html">Try</a>&lt;<a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html">MasterContender</a>*&gt; mesos::master::contender::MasterContender::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOption.html">Option</a>&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>zk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOption.html">Option</a>&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>masterContenderModule</em> = <code><a class="el" href="structNone.html">None</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a master contender. </p>
<p>If <code>masterContenderModule</code> contains a valid module name (that is, a name that matches the name specified in a <a class="el" href="namespaceJSON.html">JSON</a> file/string passed into the command-line invocations using the <code>--modules</code> flag). Additional parameters required to create an object of the contender type are expected to be specified in the <a class="el" href="namespaceJSON.html">JSON</a>'s <code>parameter</code> object. In command-line invocations, the value of <code>masterContenderModule</code> is expected to come from the <code>--master_contender</code> flag.</p>
<p>If <code>masterContenderModule</code> is <code><a class="el" href="structNone.html">None</a></code>, <code>zk</code> is checked and if it contains a valid <code>zk://</code> or <code><a href="file://">file://</a></code> path (passed in using the <code>--zk</code> flag), an instance of <a class="el" href="classmesos_1_1master_1_1contender_1_1ZooKeeperMasterContender.html">ZooKeeperMasterContender</a> is returned.</p>
<p>If both arguments are <code><a class="el" href="structNone.html">None</a></code>, <code>StandaloneMasterDetector</code> is returned.</p>
<p>Note that the returned contender still needs to be <code><a class="el" href="classmesos_1_1master_1_1contender_1_1MasterContender.html#a6df3292cd7a6f9e556a7f14df80948b9" title="Initializes the contender with the MasterInfo of the master it contends on behalf of...">initialize()</a></code>d. </p>

</div>
</div>
<a class="anchor" id="a6df3292cd7a6f9e556a7f14df80948b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void mesos::master::contender::MasterContender::initialize </td>
          <td>(</td>
          <td class="paramtype">const MasterInfo &amp;&#160;</td>
          <td class="paramname"><em>masterInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the contender with the MasterInfo of the master it contends on behalf of. </p>

<p>Implemented in <a class="el" href="classmesos_1_1master_1_1contender_1_1ZooKeeperMasterContender.html#a90035e5e34ad6bd872693d9a050a2bf6">mesos::master::contender::ZooKeeperMasterContender</a>, and <a class="el" href="classmesos_1_1master_1_1contender_1_1StandaloneMasterContender.html#afe560e03b445a18823ba697ddaa376fe">mesos::master::contender::StandaloneMasterContender</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/mesos/master/<a class="el" href="master_2contender_8hpp_source.html">contender.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
